<html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>LILAS-V4</title><!--Généré dynamiquement par PubliTool 2009--><link href="index_2.css" rel="stylesheet"><script src="index_3.js" type="text/javascript">
   </script></head><body><div xmlns:url="http://whatever/java/java.net.URLEncoder" class="zoneTitre"><table class="zoneTitre" width="100%"><tr class="zoneTitre"><td class="colTitreLogo"><embed src="index_4.svg" type="image/svg+xml"></embed></td><td class="colTitreTxt">LILAS-V4</td></tr></table></div><div id="tocFixe"><ul><li class="niv0"><a href="index.html" onClick="return chargerURLavecHistorique(this)">LILAS-V4</a></li><li class="niv1"><a href="index_6.html" onClick="return chargerURLavecHistorique(this)">1 Installation</a></li><li class="niv1"><a href="index_7.html" onClick="return chargerURLavecHistorique(this)">2 Quick start tutorial</a></li><li class="niv1"><a href="index_19.html" onClick="return chargerURLavecHistorique(this)">3 Launch command</a></li><li class="niv1"><a href="index_20.html" onClick="return chargerURLavecHistorique(this)">4 Configuration file</a></li><li class="niv1"><a href="index_21.html" onClick="return chargerURLavecHistorique(this)">5 Lilas programming</a></li><li class="niv2"><a href="index_22.html" onClick="return chargerURLavecHistorique(this)">5.1 lilas.base</a></li><li class="niv2"><a href="index_26.html" onClick="return chargerURLavecHistorique(this)">5.2 lilas.awt</a></li><li class="niv2"><a href="index_40.html" onClick="return chargerURLavecHistorique(this)">5.3 lilas.script</a></li><li class="niv2sel"><a href="index_60.html" onClick="return chargerURLavecHistorique(this)">5.4 lilas.sm</a></li><li class="niv2"><a href="index_61.html" onClick="return chargerURLavecHistorique(this)">5.5 lilas.code</a></li><li class="niv1"><a href="index_65.html" onClick="return chargerURLavecHistorique(this)">6 lilas.bib</a></li><li class="niv1"><a href="index_87.html" onClick="return chargerURLavecHistorique(this)">7 FPGA board</a></li><li class="niv1"><a href="index_90.html" onClick="return chargerURLavecHistorique(this)">8 Lilas examples</a></li></ul></div><div class="zoneMain"><p class="H2c" xmlns:url="http://whatever/java/java.net.URLEncoder">
   - 5.4 -</p><p class="H2c" xmlns:url="http://whatever/java/java.net.URLEncoder">lilas.sm</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">The element sm allows to describe a state machine. The element contains one or more "state" 
	defining the states of the state machine. The initial state is given by the attribute "init" 
	of the element sm.</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">An item 'state' contains at most a next or nextList element, optionally a print element, 
optionally a method call and zero, one or more 'on'.
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">A member 'on' to define a state change condition. He eventually defines a condition (condition attribute) 
	on a signal (signal attribute) and a state (target attribute) becomes the next state if the condition is verified. 
	If the condition is not present, the state change is made on the next activation.
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder"><div style="white-space:pre;font-family:monospace;">  <font color="#A020F0">&lt;sm init=</font><font color="#CC6600">"etat1"</font><font color="#A020F0">&gt;</font>
    <font color="#A020F0">&lt;state name=</font><font color="#CC6600">"etat1"</font><font color="#A020F0">&gt;</font>
      <font color="#A020F0">&lt;next signal=</font><font color="#CC6600">"y"</font> <font color="#A020F0">value=</font><font color="#CC6600">"1.0"</font><font color="#A020F0">/&gt;</font>
      <font color="#A020F0">&lt;on signal=</font><font color="#CC6600">"x"</font> <font color="#A020F0">condition=</font><font color="#CC6600">"!value.equals(sensibleValue)"</font> <font color="#A020F0">value=</font><font color="#CC6600">"1.0"</font> <font color="#A020F0">target=</font><font color="#CC6600">"etat2"</font><font color="#A020F0">/&gt;</font>
      <font color="#A020F0">&lt;on target=</font><font color="#CC6600">"etat3"</font><font color="#A020F0">/&gt;</font>
    <font color="#A020F0">&lt;/state&gt;</font>
    <font color="#A020F0">&lt;state name=</font><font color="#CC6600">"etat2"</font><font color="#A020F0">&gt;</font>
      <font color="#A020F0">&lt;next signal=</font><font color="#CC6600">"y"</font> <font color="#A020F0">value=</font><font color="#CC6600">"2.0"</font><font color="#A020F0">/&gt;</font>
      <font color="#A020F0">&lt;on signal=</font><font color="#CC6600">"x"</font> <font color="#A020F0">condition=</font><font color="#CC6600">"value.equals(2.0)"</font> <font color="#A020F0">target=</font><font color="#CC6600">"etat2"</font><font color="#A020F0">/&gt;</font>
      <font color="#A020F0">&lt;on target=</font><font color="#CC6600">"etat3"</font><font color="#A020F0">/&gt;</font>
    <font color="#A020F0">&lt;/state&gt;</font>
    <font color="#A020F0">&lt;state name=</font><font color="#CC6600">"etat3"</font><font color="#A020F0">&gt;</font>
      <font color="#A020F0">&lt;next signal=</font><font color="#CC6600">"y"</font> <font color="#A020F0">value=</font><font color="#CC6600">"3.0"</font><font color="#A020F0">/&gt;</font>
    <font color="#A020F0">&lt;/state&gt;</font>
  <font color="#A020F0">&lt;/sm&gt;</font>
</div>
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">It is possible to use a script element (or method via callMethod) in a state:
	<div style="white-space:pre;font-family:monospace;">  <font color="#A020F0">&lt;sm init=</font><font color="#CC6600">"etat1"</font><font color="#A020F0">&gt;</font>
    <font color="#A020F0">&lt;state name=</font><font color="#CC6600">"etat1"</font><font color="#A020F0">&gt;</font>
      <font color="#A020F0">&lt;s1/&gt;</font>
      <font color="#A020F0">&lt;callMethod name=</font><font color="#CC6600">"nomMethod"</font><font color="#A020F0">/&gt;</font>
      <font color="#A020F0">&lt;on signal=</font><font color="#CC6600">"x"</font> <font color="#A020F0">condition=</font><font color="#CC6600">"!value.equals(sensibleValue)"</font> <font color="#A020F0">value=</font><font color="#CC6600">"1.0"</font> <font color="#A020F0">target=</font><font color="#CC6600">"etat2"</font><font color="#A020F0">/&gt;</font>
      <font color="#A020F0">&lt;on target=</font><font color="#CC6600">"etat3"</font><font color="#A020F0">/&gt;</font>
    <font color="#A020F0">&lt;/state&gt;</font>
    <font color="#A020F0">&lt;state name=</font><font color="#CC6600">"etat2"</font><font color="#A020F0">&gt;</font>
      <font color="#A020F0">&lt;next signal=</font><font color="#CC6600">"y"</font> <font color="#A020F0">value=</font><font color="#CC6600">"2.0"</font><font color="#A020F0">/&gt;</font>
      <font color="#A020F0">&lt;on signal=</font><font color="#CC6600">"x"</font> <font color="#A020F0">condition=</font><font color="#CC6600">"value.equals(2.0)"</font> <font color="#A020F0">target=</font><font color="#CC6600">"etat2"</font><font color="#A020F0">/&gt;</font>
      <font color="#A020F0">&lt;on target=</font><font color="#CC6600">"etat3"</font><font color="#A020F0">/&gt;</font>
    <font color="#A020F0">&lt;/state&gt;</font>
    <font color="#A020F0">&lt;state name=</font><font color="#CC6600">"etat3"</font><font color="#A020F0">&gt;</font>
      <font color="#A020F0">&lt;next signal=</font><font color="#CC6600">"y"</font> <font color="#A020F0">value=</font><font color="#CC6600">"3.0"</font><font color="#A020F0">/&gt;</font>
    <font color="#A020F0">&lt;/state&gt;</font>
  <font color="#A020F0">&lt;/sm&gt;</font>
    <font color="#A020F0">&lt;script name=</font><font color="#CC6600">"s1"</font><font color="#A020F0">&gt;</font>
  	<font color="#A020F0">&lt;print&gt;</font>Script s1 d&eacute;but<font color="#A020F0">&lt;/print&gt;</font>
  	<font color="#A020F0">&lt;waitStable/&gt;</font>
  	<font color="#A020F0">&lt;print&gt;</font>Script s1 fin<font color="#A020F0">&lt;/print&gt;</font>
  <font color="#A020F0">&lt;/script&gt;</font>
	
</div>
</p></div></body></html>