<html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>LILAS-V4</title><!--Généré dynamiquement par PubliTool 2009--><link href="index_2.css" rel="stylesheet"><script src="index_3.js" type="text/javascript">
   </script></head><body><div xmlns:url="http://whatever/java/java.net.URLEncoder" class="zoneTitre"><table class="zoneTitre" width="100%"><tr class="zoneTitre"><td class="colTitreLogo"><embed src="index_4.svg" type="image/svg+xml"></embed></td><td class="colTitreTxt">LILAS-V4</td></tr></table></div><div id="tocFixe"><ul><li class="niv0"><a href="index.html" onClick="return chargerURLavecHistorique(this)">LILAS-V4</a></li><li class="niv1"><a href="index_6.html" onClick="return chargerURLavecHistorique(this)">1 Installation</a></li><li class="niv1"><a href="index_7.html" onClick="return chargerURLavecHistorique(this)">2 Quick start tutorial</a></li><li class="niv1"><a href="index_19.html" onClick="return chargerURLavecHistorique(this)">3 Launch command</a></li><li class="niv1"><a href="index_20.html" onClick="return chargerURLavecHistorique(this)">4 Configuration file</a></li><li class="niv1"><a href="index_21.html" onClick="return chargerURLavecHistorique(this)">5 Lilas programming</a></li><li class="niv2"><a href="index_22.html" onClick="return chargerURLavecHistorique(this)">5.1 lilas.base</a></li><li class="niv2"><a href="index_26.html" onClick="return chargerURLavecHistorique(this)">5.2 lilas.awt</a></li><li class="niv3"><a href="index_27.html" onClick="return chargerURLavecHistorique(this)">5.2.1 Panel</a></li><li class="niv3"><a href="index_28.html" onClick="return chargerURLavecHistorique(this)">5.2.2 ListDisplay</a></li><li class="niv3"><a href="index_29.html" onClick="return chargerURLavecHistorique(this)">5.2.3 SystemDisplay</a></li><li class="niv3"><a href="index_30.html" onClick="return chargerURLavecHistorique(this)">5.2.4 BoutonListeScripts</a></li><li class="niv3"><a href="index_31.html" onClick="return chargerURLavecHistorique(this)">5.2.5 BoutonScript</a></li><li class="niv3"><a href="index_32.html" onClick="return chargerURLavecHistorique(this)">5.2.6 BoutonPasAPas</a></li><li class="niv3"><a href="index_33.html" onClick="return chargerURLavecHistorique(this)">5.2.7 BoutonSnapshot</a></li><li class="niv3"><a href="index_34.html" onClick="return chargerURLavecHistorique(this)">5.2.8 Display</a></li><li class="niv3"><a href="index_35.html" onClick="return chargerURLavecHistorique(this)">5.2.9 DisplayScrollBar</a></li><li class="niv3sel"><a href="index_36.html" onClick="return chargerURLavecHistorique(this)">5.2.10 ImageSVG</a></li><li class="niv3"><a href="index_37.html" onClick="return chargerURLavecHistorique(this)">5.2.11 MemoryDisplay</a></li><li class="niv3"><a href="index_38.html" onClick="return chargerURLavecHistorique(this)">5.2.12 BoutonsLoadSaveMemory</a></li><li class="niv3"><a href="index_39.html" onClick="return chargerURLavecHistorique(this)">5.2.13 Text</a></li><li class="niv2"><a href="index_40.html" onClick="return chargerURLavecHistorique(this)">5.3 lilas.script</a></li><li class="niv2"><a href="index_60.html" onClick="return chargerURLavecHistorique(this)">5.4 lilas.sm</a></li><li class="niv2"><a href="index_61.html" onClick="return chargerURLavecHistorique(this)">5.5 lilas.code</a></li><li class="niv1"><a href="index_64.html" onClick="return chargerURLavecHistorique(this)">6 lilas.bib</a></li><li class="niv1"><a href="index_88.html" onClick="return chargerURLavecHistorique(this)">7 FPGA board</a></li><li class="niv1"><a href="index_91.html" onClick="return chargerURLavecHistorique(this)">8 Lilas examples</a></li></ul></div><div class="zoneMain"><p class="H2c" xmlns:url="http://whatever/java/java.net.URLEncoder">
   - 5.2.10 -</p><p class="H2c" xmlns:url="http://whatever/java/java.net.URLEncoder">ImageSVG</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">Displays a svg image indicated by the img attribute. A scale factor may be provided via the 
	optional attribute "scale". This element can contain one or more elements ElementSVG to reference 
	a particular element of the SVG document.
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">Example&nbsp;: 
<div style="white-space:pre;font-family:monospace;"><font color="#A020F0">&lt;ImageSVG img=</font><font color="#CC6600">"tst.awt.sqrt"</font><font color="#A020F0">&gt;</font>
   <font color="#9A1900">&lt;!-- img fait r&eacute;f&eacute;rence au fichier tst/awt/sqrt.svg du LILASPATH --&gt;</font>
   <font color="#A020F0">&lt;ElementSVG name=</font><font color="#CC6600">"nomVarEl1"</font> <font color="#A020F0">idRef=</font><font color="#CC6600">"val_x"</font> <font color="#A020F0">.../&gt;</font>
   <font color="#A020F0">&lt;ElementSVG name=</font><font color="#CC6600">"nomVarEl2"</font> <font color="#A020F0">idRef=</font><font color="#CC6600">"val_y"</font> <font color="#A020F0">.../&gt;</font>
<font color="#A020F0">&lt;/ImageSVG&gt;</font>

<font color="#A020F0">&lt;ImageSVG img=</font><font color="#CC6600">"tst.awt.sqrt"</font> <font color="#A020F0">&eacute;chelle=</font><font color="#CC6600">"2.4"</font><font color="#A020F0">&gt;</font>
   <font color="#9A1900">&lt;!-- img fait r&eacute;f&eacute;rence au fichier tst/awt/sqrt.svg du LILASPATH --&gt;</font>
   <font color="#A020F0">&lt;ElementSVG name=</font><font color="#CC6600">"nomVarEl1"</font> <font color="#A020F0">idRef=</font><font color="#CC6600">"val_x"</font> <font color="#A020F0">.../&gt;</font>
   <font color="#A020F0">&lt;ElementSVG name=</font><font color="#CC6600">"nomVarEl2"</font> <font color="#A020F0">idRef=</font><font color="#CC6600">"val_y"</font> <font color="#A020F0">.../&gt;</font>
<font color="#A020F0">&lt;/ImageSVG&gt;</font>

</div>
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">When present in a ElementSVG, the signal attribute is used to associate the xml node svg drawing a signal 
	conveying a lilas.base.EventLilas type object. Each intervening event on the XML node leads to
	the occurrence of a value on the associated signal.
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">
The ElementSVG element can have the attribute "attributsModifiables" indicating which attributes 
	of the svg element can be changed (txt can be used to indicate the text content):
	
	
<div style="white-space:pre;font-family:monospace;"><font color="#A020F0">&lt;ElementSVG name=</font><font color="#CC6600">"el_val_x"</font> <font color="#A020F0">idRef=</font><font color="#CC6600">"val_x"</font> <font color="#A020F0">signal=</font><font color="#CC6600">"txtImg"</font> <font color="#A020F0">attributsModifiables=</font><font color="#CC6600">"fill txt"</font><font color="#A020F0">/&gt;</font>

</div>
If the attribute "attributsModifiables" is not specified, all attributes can potentially be modified.
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">The type of value that can be conveyed on the associated signal depends on the 'type' attribute of the element. 
	The possible values ​​are:
<ul id="ID_PubliTool_N107DA">
<li>menu&nbsp;: the String value is obtained from a drop-down menu; the values ​​in this menu are specified by item 
	elements of ElementSVG. Example:
	
<div style="white-space:pre;font-family:monospace;">
<font color="#A020F0">&lt;ElementSVG name=</font><font color="#CC6600">"el_val_x"</font> <font color="#A020F0">idRef=</font><font color="#CC6600">"val_x"</font> <font color="#A020F0">signal=</font><font color="#CC6600">"txtImg"</font> <font color="#A020F0">type=</font><font color="#CC6600">"menu"</font><font color="#A020F0">&gt;</font>
   <font color="#A020F0">&lt;item valeur=</font><font color="#CC6600">"1.0"</font><font color="#A020F0">/&gt;</font>
   <font color="#A020F0">&lt;item valeur=</font><font color="#CC6600">"2.0"</font><font color="#A020F0">/&gt;</font>
   <font color="#A020F0">&lt;item valeur=</font><font color="#CC6600">"3.0"</font><font color="#A020F0">/&gt;</font>
   <font color="#A020F0">&lt;item valeur=</font><font color="#CC6600">"4.0"</font><font color="#A020F0">/&gt;</font>
<font color="#A020F0">&lt;/ElementSVG&gt;</font>
</div>
</li>
<li>dialog&nbsp;: the String value is obtained from a dialog window with a JTextField component if ElementSVG is empty 
	(element el_val_x1 below), or if the JComboBox ElementSVG contains a list item (one item el_val_x2 -dessous). 
	Example:
<div style="white-space:pre;font-family:monospace;">
<font color="#A020F0">&lt;ElementSVG name=</font><font color="#CC6600">"el_val_x1"</font> <font color="#A020F0">idRef=</font><font color="#CC6600">"val_x"</font> <font color="#A020F0">signal=</font><font color="#CC6600">"txtImg"</font> <font color="#A020F0">type=</font><font color="#CC6600">"dialog"</font><font color="#A020F0">/&gt;</font>

<font color="#A020F0">&lt;ElementSVG name=</font><font color="#CC6600">"el_val_x2"</font> <font color="#A020F0">idRef=</font><font color="#CC6600">"val_x"</font> <font color="#A020F0">signal=</font><font color="#CC6600">"txtImg"</font> <font color="#A020F0">type=</font><font color="#CC6600">"dialog"</font><font color="#A020F0">&gt;</font>
   <font color="#A020F0">&lt;item valeur=</font><font color="#CC6600">"1.0"</font><font color="#A020F0">/&gt;</font>
   <font color="#A020F0">&lt;item valeur=</font><font color="#CC6600">"2.0"</font><font color="#A020F0">/&gt;</font>
   <font color="#A020F0">&lt;item valeur=</font><font color="#CC6600">"3.0"</font><font color="#A020F0">/&gt;</font>
   <font color="#A020F0">&lt;item valeur=</font><font color="#CC6600">"4.0"</font><font color="#A020F0">/&gt;</font>
<font color="#A020F0">&lt;/ElementSVG&gt;</font>

</div></li>
<li>event&nbsp;: the org.w3c.dom.events.Event value is the one from the event captured on the SVG image. Example:

<div style="white-space:pre;font-family:monospace;">
<font color="#A020F0">&lt;ElementSVG name=</font><font color="#CC6600">"el_plusUn"</font> <font color="#A020F0">idRef=</font><font color="#CC6600">"id_rond"</font> <font color="#A020F0">signal=</font><font color="#CC6600">"plusUn"</font> <font color="#A020F0">type=</font><font color="#CC6600">"event"</font><font color="#A020F0">/&gt;</font>
</div>
It is possible to add a list of items that appear when the event will be a click when the shift 
key on the keyboard is pressed. In this case, the event will be sent the text selected in the menu&nbsp;:
<div style="white-space:pre;font-family:monospace;">
<font color="#A020F0">&lt;ElementSVG name=</font><font color="#CC6600">"el_plusUn"</font> <font color="#A020F0">idRef=</font><font color="#CC6600">"id_rond"</font> <font color="#A020F0">signal=</font><font color="#CC6600">"plusUn"</font> <font color="#A020F0">type=</font><font color="#CC6600">"event"</font><font color="#A020F0">&gt;</font>
   <font color="#A020F0">&lt;item valeur=</font><font color="#CC6600">"1.0"</font><font color="#A020F0">/&gt;</font>
   <font color="#A020F0">&lt;item valeur=</font><font color="#CC6600">"2.0"</font><font color="#A020F0">/&gt;</font>
   <font color="#A020F0">&lt;item valeur=</font><font color="#CC6600">"3.0"</font><font color="#A020F0">/&gt;</font>
   <font color="#A020F0">&lt;item valeur=</font><font color="#CC6600">"4.0"</font><font color="#A020F0">/&gt;</font>
<font color="#A020F0">&lt;/ElementSVG&gt;</font>
</div>
</li>
<li>txtSvg&nbsp;: the String value is obtained by changing the text directly in the image 
	(by first clicking on the text area, and confirming the change by the enter key on the keyboard). Example:
<div style="white-space:pre;font-family:monospace;">
<font color="#A020F0">&lt;ElementSVG idRef=</font><font color="#CC6600">"val_x"</font> <font color="#A020F0">name=</font><font color="#CC6600">"el_val_x"</font> <font color="#A020F0">signal=</font><font color="#CC6600">"txtImg"</font> <font color="#A020F0">type=</font><font color="#CC6600">"txtSvg"</font><font color="#A020F0">/&gt;</font>
</div></li>
</ul>
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">The items can also specify elements, in addition to the "value" attribute, an attribute "text" 
	that indicates the text that will be displayed instead of the value in the GUI:
<div style="white-space:pre;font-family:monospace;">
<font color="#A020F0">&lt;ElementSVG name=</font><font color="#CC6600">"el_plusUn"</font> <font color="#A020F0">idRef=</font><font color="#CC6600">"id_rond"</font> <font color="#A020F0">signal=</font><font color="#CC6600">"plusUn"</font> <font color="#A020F0">type=</font><font color="#CC6600">"event"</font><font color="#A020F0">&gt;</font>
   <font color="#A020F0">&lt;item valeur=</font><font color="#CC6600">"1.0"</font> <font color="#A020F0">texte=</font><font color="#CC6600">"un"</font><font color="#A020F0">/&gt;</font>
   <font color="#A020F0">&lt;item valeur=</font><font color="#CC6600">"2.0"</font> <font color="#A020F0">texte=</font><font color="#CC6600">"deux"</font><font color="#A020F0">/&gt;</font>
   <font color="#A020F0">&lt;item valeur=</font><font color="#CC6600">"3.0"</font> <font color="#A020F0">texte=</font><font color="#CC6600">"trois"</font><font color="#A020F0">/&gt;</font>
   <font color="#A020F0">&lt;item valeur=</font><font color="#CC6600">"4.0"</font> <font color="#A020F0">texte=</font><font color="#CC6600">"quatre"</font><font color="#A020F0">/&gt;</font>
<font color="#A020F0">&lt;/ElementSVG&gt;</font>
</div>
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">When a graphic object is created for a swing svg element, the method 
	<span style="font-family:monospace;">public void refreshElement(lilas.awt.ElementSVG elSVG)</span> is performed on the module creating 
	the ElementSVG with the parameter set element. To initialize the graphical interface from the signal associated 
	with that item, simply redefine this method that will do the initialization work. Example:
<div style="white-space:pre;font-family:monospace;">

<font color="#A020F0">&lt;awt name=</font><font color="#CC6600">"img"</font><font color="#A020F0">&gt;</font>
	<font color="#A020F0">&lt;ImageSVG img=</font><font color="#CC6600">"tst.imgsvglogic.panneau"</font><font color="#A020F0">&gt;</font>
		<font color="#A020F0">&lt;ElementSVG idRef=</font><font color="#CC6600">"textCmd"</font> <font color="#A020F0">name=</font><font color="#CC6600">"nomVarEl1Svg"</font> <font color="#A020F0">signal=</font><font color="#CC6600">"txtCmd"</font> <font color="#A020F0">type=</font><font color="#CC6600">"menu"</font><font color="#A020F0">&gt;</font>
  			<font color="#A020F0">&lt;item valeur=</font><font color="#CC6600">"nop"</font><font color="#A020F0">/&gt;</font>
  			<font color="#A020F0">&lt;item valeur=</font><font color="#CC6600">"raz"</font><font color="#A020F0">/&gt;</font>
  			<font color="#A020F0">&lt;item valeur=</font><font color="#CC6600">"+1"</font><font color="#A020F0">/&gt;</font>
  			<font color="#A020F0">&lt;item valeur=</font><font color="#CC6600">"-1"</font><font color="#A020F0">/&gt;</font>
  			<font color="#A020F0">&lt;/ElementSVG&gt;</font>
		<font color="#A020F0">&lt;ElementSVG idRef=</font><font color="#CC6600">"textValeur"</font> <font color="#A020F0">name=</font><font color="#CC6600">"ctrValSvg"</font> <font color="#A020F0">signal=</font><font color="#CC6600">"q"</font><font color="#A020F0">/&gt;</font>
		<font color="#A020F0">&lt;ElementSVG idRef=</font><font color="#CC6600">"pathClk"</font> <font color="#A020F0">name=</font><font color="#CC6600">"clkSvg"</font> <font color="#A020F0">signal=</font><font color="#CC6600">"clkEvent"</font> <font color="#A020F0">type=</font><font color="#CC6600">"event"</font><font color="#A020F0">/&gt;</font>
	<font color="#A020F0">&lt;/ImageSVG&gt;</font>
  <font color="#A020F0">&lt;/awt&gt;</font>

...
</div>

and for the java code
<div style="white-space:pre;font-family:monospace;">
    @Override
	<font color="#009900">public</font> <font color="#009900">void</font> <font color="#0000FF">refreshElement</font>(<font color="#0000FF">lilas.awt.ElementSVG</font> <font color="#FF00FF">elSVG</font>) {
    	<font color="#009900">if</font> (elSVG.getSignal()==clkEvent_port.signal) elSVG.setStyle(<font color="#CC6600">"fill"</font>, <font color="#CC6600">"#"</font>+clk.toColorStr()); 
    	<font color="#009900">else</font> <font color="#009900">if</font> (elSVG.getSignal()==q_port.signal) elSVG.setText(<font color="#CC6600">""</font>+q); 
    	<font color="#009900">else</font> <font color="#009900">if</font> (elSVG.getSignal()==txtCmd_port.signal) elSVG.setText(<font color="#CC6600">""</font>+txtCmd); 
    	 
    }

  	<font color="#009900">final</font> <font color="#009900">protected</font> <font color="#009900">void</font> <font color="#0000FF">activation</font>() <font color="#009900">throws</font> <font color="#0000FF">lilas.base.ExceptionLilas</font> {
		<font color="#009900">if</font> (getPort(<font color="#CC6600">"txtCmd"</font>).isSelected()) {
			<font color="#009900">if</font> (txtCmd.equals(<font color="#CC6600">"raz"</font>)) {
				propagateOnce(<font color="#CC6600">"raz"</font>, lilas.type.StdLogic.V1b);
			} <font color="#009900">else</font> <font color="#009900">if</font> (txtCmd.equals(<font color="#CC6600">"+1"</font>)) {
				propagateOnce(<font color="#CC6600">"raz"</font>, lilas.type.StdLogic.F1b);
  				propagateOnce(<font color="#CC6600">"ce"</font>, lilas.type.StdLogic.V1b);
				propagateOnce(<font color="#CC6600">"cin"</font>, lilas.type.StdLogic.V1b);
				propagateOnce(<font color="#CC6600">"up_down"</font>, lilas.type.StdLogic.V1b);
			} <font color="#009900">else</font> <font color="#009900">if</font> (txtCmd.equals(<font color="#CC6600">"-1"</font>)) {
				propagateOnce(<font color="#CC6600">"raz"</font>, lilas.type.StdLogic.F1b);
  				propagateOnce(<font color="#CC6600">"ce"</font>, lilas.type.StdLogic.V1b);
				propagateOnce(<font color="#CC6600">"cin"</font>, lilas.type.StdLogic.V1b);
				propagateOnce(<font color="#CC6600">"up_down"</font>, lilas.type.StdLogic.F1b);
			} <font color="#009900">else</font> { <font color="#9A1900">// nop
</font>				propagateOnce(<font color="#CC6600">"raz"</font>, lilas.type.StdLogic.F1b);
				propagateOnce(<font color="#CC6600">"ce"</font>, lilas.type.StdLogic.F1b);
				propagateOnce(<font color="#CC6600">"cin"</font>, lilas.type.StdLogic.F1b);
				propagateOnce(<font color="#CC6600">"up_down"</font>, lilas.type.StdLogic.F1b);
			}
		}
		<font color="#009900">if</font> (getPort(<font color="#CC6600">"clkEvent"</font>).isSelected()) {
			<font color="#0000FF">DOMMouseEvent </font><font color="#FF00FF">source</font> = (DOMMouseEvent) clkEvent.getSource();
  			<font color="#009900">if</font> (clkEvent.getValStr()==null) propagateOnce(<font color="#CC6600">"clk"</font>, StdLogic.not(clk));
  			<font color="#009900">else</font> propagateOnce(<font color="#CC6600">"clk"</font>, <font color="#009900">new</font> StdLogic(<font color="#CC6600">"0b"</font>+clkEvent.getValStr()));
			System.out.println(<font color="#CC6600">""</font>+clkEvent+<font color="#CC6600">" "</font>+clkEvent.getValStr()+<font color="#CC6600">" "</font>+clkEvent.getSource());
		}
		<font color="#009900">if</font> (getPort(<font color="#CC6600">"clk"</font>).isSelected()) {
	    	<font color="#009900">for</font> (lilas.awt.ElementSVG elSVG&nbsp;: clkSvg) {
	    		elSVG.setStyle(<font color="#CC6600">"fill"</font>, <font color="#CC6600">"#"</font>+clk.toColorStr());
			}
  		}

</div></p></div></body></html>