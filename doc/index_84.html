<html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>LILAS-V4</title><!--Généré dynamiquement par PubliTool 2009--><link href="index_2.css" rel="stylesheet"><script src="index_3.js" type="text/javascript">
   </script></head><body><div xmlns:url="http://whatever/java/java.net.URLEncoder" class="zoneTitre"><table class="zoneTitre" width="100%"><tr class="zoneTitre"><td class="colTitreLogo"><embed src="index_4.svg" type="image/svg+xml"></embed></td><td class="colTitreTxt">LILAS-V4</td></tr></table></div><div id="tocFixe"><ul><li class="niv0"><a href="index.html" onClick="return chargerURLavecHistorique(this)">LILAS-V4</a></li><li class="niv1"><a href="index_6.html" onClick="return chargerURLavecHistorique(this)">1 Installation</a></li><li class="niv1"><a href="index_7.html" onClick="return chargerURLavecHistorique(this)">2 Quick start tutorial</a></li><li class="niv1"><a href="index_19.html" onClick="return chargerURLavecHistorique(this)">3 Launch command</a></li><li class="niv1"><a href="index_20.html" onClick="return chargerURLavecHistorique(this)">4 Configuration file</a></li><li class="niv1"><a href="index_21.html" onClick="return chargerURLavecHistorique(this)">5 Lilas programming</a></li><li class="niv1"><a href="index_64.html" onClick="return chargerURLavecHistorique(this)">6 lilas.bib</a></li><li class="niv2"><a href="index_65.html" onClick="return chargerURLavecHistorique(this)">6.1 lilas.bib.awt</a></li><li class="niv2"><a href="index_69.html" onClick="return chargerURLavecHistorique(this)">6.2 lilas.bib.logic</a></li><li class="niv2"><a href="index_76.html" onClick="return chargerURLavecHistorique(this)">6.3 lilas.bib.logique5E</a></li><li class="niv2"><a href="index_78.html" onClick="return chargerURLavecHistorique(this)">6.4 lilas.bib.nexys3</a></li><li class="niv2"><a href="index_81.html" onClick="return chargerURLavecHistorique(this)">6.5 lilas.bib.nexys3Old</a></li><li class="niv3"><a href="index_82.html" onClick="return chargerURLavecHistorique(this)">6.5.1 GenClockParametrableClkInv</a></li><li class="niv3"><a href="index_83.html" onClick="return chargerURLavecHistorique(this)">6.5.2 display7seg.Display7seg</a></li><li class="niv3sel"><a href="index_84.html" onClick="return chargerURLavecHistorique(this)">6.5.3 dstm.DSTM</a></li><li class="niv3"><a href="index_85.html" onClick="return chargerURLavecHistorique(this)">6.5.4 Nexys3</a></li><li class="niv2"><a href="index_86.html" onClick="return chargerURLavecHistorique(this)">6.6 lilas.bib.miniSpartan6</a></li><li class="niv1"><a href="index_88.html" onClick="return chargerURLavecHistorique(this)">7 FPGA board</a></li><li class="niv1"><a href="index_91.html" onClick="return chargerURLavecHistorique(this)">8 Lilas examples</a></li></ul></div><div class="zoneMain"><p class="H2c" xmlns:url="http://whatever/java/java.net.URLEncoder">
   - 6.5.3 -</p><p class="H2c" xmlns:url="http://whatever/java/java.net.URLEncoder">dstm.DSTM</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">The main module is the DSTM module for communication via a USB cable between the PC and circuitry residing in the Nexys3 card.
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder"><div class="" style="white-space:pre;background-color:#e7e3e7;margin:1cm"> <span style="background:#99FF66"><a href="index_113.lilas">DSTM.lilas</a> : </span><div class="" style="white-space:pre;font-family:monospace;background-color:#e7e3e7;margin-top:0.2cm;margin-left:1cm"><font color="#B88408">&lt;?</font><font color="#208820">xml version="1.0" encoding="UTF-8"</font><font color="#B88408">?&gt;</font>
<font color="#A020F0">&lt;module&gt;</font>
  <font color="#9A1900">&lt;!-- taille des signaux &agrave; envoyer/recevoir (download : pc vers Nexys3). Max 64 octets (pour USB 1.1) ou 512 octets (pour USB 2) --&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"constant"</font> <font color="#A020F0">name=</font><font color="#CC6600">"transfertSize"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Integer"</font><font color="#A020F0">/&gt;</font>
 
  <font color="#A020F0">&lt;signal init=</font><font color="#CC6600">"0b0"</font> <font color="#A020F0">mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"IFCLK"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal init=</font><font color="#CC6600">"0b0"</font> <font color="#A020F0">mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"STMEN"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal init=</font><font color="#CC6600">"0xZZ"</font> <font color="#A020F0">mode=</font><font color="#CC6600">"inout"</font> <font color="#A020F0">name=</font><font color="#CC6600">"USBDB"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal init=</font><font color="#CC6600">"0b1"</font> <font color="#A020F0">mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"FLAGA"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal init=</font><font color="#CC6600">"0b1"</font> <font color="#A020F0">mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"FLAGB"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal init=</font><font color="#CC6600">"0bZZ"</font> <font color="#A020F0">mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"FIFOADR"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal init=</font><font color="#CC6600">"0bZ"</font> <font color="#A020F0">mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"SLRD"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal init=</font><font color="#CC6600">"0bZ"</font> <font color="#A020F0">mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"SLWR"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal init=</font><font color="#CC6600">"0bZ"</font> <font color="#A020F0">mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"SLOE"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal init=</font><font color="#CC6600">"0bZ"</font> <font color="#A020F0">mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"PKTEND"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"cmdGenClkInit"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0x0"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"etatDSTM"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0x0"</font><font color="#A020F0">/&gt;</font>

  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"enableFromFPGA"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0b0"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"loadRegToFPGA"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0b0"</font><font color="#A020F0">/&gt;</font>
  
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"inUse"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0b0"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"startClkPulse"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0b0"</font><font color="#A020F0">/&gt;</font>
  
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"dataToFPGA"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">size=</font><font color="#CC6600">"transfertSize"</font><font color="#A020F0">/&gt;</font><font color="#9A1900">&lt;!-- (upload : pc vers Nexys3) obligatoirement multiple de 8 --&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"dataFromFPGA"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">size=</font><font color="#CC6600">"transfertSize"</font><font color="#A020F0">/&gt;</font><font color="#9A1900">&lt;!-- (Download : Nexys3 vers pc) obligatoirement multiple de 8 --&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"resetDSTM"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">sensitive=</font><font color="#CC6600">"true"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0b0"</font><font color="#A020F0">/&gt;</font>
   
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"internal"</font> <font color="#A020F0">name=</font><font color="#CC6600">"dataToFPGAInterne"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">size=</font><font color="#CC6600">"transfertSize"</font><font color="#A020F0">/&gt;</font>
  	  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"internal"</font> <font color="#A020F0">name=</font><font color="#CC6600">"d8b"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0xZZ"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"internal"</font> <font color="#A020F0">name=</font><font color="#CC6600">"q8b"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">sensitive=</font><font color="#CC6600">"true"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0xZZ"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"internal"</font> <font color="#A020F0">name=</font><font color="#CC6600">"fromTo"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">sensitive=</font><font color="#CC6600">"true"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0b0"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"internal"</font> <font color="#A020F0">name=</font><font color="#CC6600">"cmd"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0b00"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"internal"</font> <font color="#A020F0">name=</font><font color="#CC6600">"transfert"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">sensitive=</font><font color="#CC6600">"true"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0b0"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"internal"</font> <font color="#A020F0">name=</font><font color="#CC6600">"loadRegToFPGAInterne"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0b0"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"internal"</font> <font color="#A020F0">name=</font><font color="#CC6600">"loadShiftRegister"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">sensitive=</font><font color="#CC6600">"true"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0b0"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"internal"</font> <font color="#A020F0">name=</font><font color="#CC6600">"notUsed"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0:transfertSize"</font><font color="#A020F0">/&gt;</font>

  <font color="#A020F0">&lt;ShiftRegister clk=</font><font color="#CC6600">"IFCLK"</font> <font color="#A020F0">raz=</font><font color="#CC6600">"resetDSTM"</font> <font color="#A020F0">cmd=</font><font color="#CC6600">"cmd"</font> <font color="#A020F0">d8b=</font><font color="#CC6600">"USBDB"</font> <font color="#A020F0">dataIn=</font><font color="#CC6600">"dataFromFPGA"</font> <font color="#A020F0">q8b=</font><font color="#CC6600">"q8b"</font> <font color="#A020F0">transfertSize=</font><font color="#CC6600">"transfertSize"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;ShiftRegister clk=</font><font color="#CC6600">"IFCLK"</font> <font color="#A020F0">raz=</font><font color="#CC6600">"resetDSTM"</font> <font color="#A020F0">cmd=</font><font color="#CC6600">"cmd"</font> <font color="#A020F0">d8b=</font><font color="#CC6600">"USBDB"</font> <font color="#A020F0">dataIn=</font><font color="#CC6600">"notUsed"</font> <font color="#A020F0">dataOut=</font><font color="#CC6600">"dataToFPGAInterne"</font> <font color="#A020F0">transfertSize=</font><font color="#CC6600">"transfertSize"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;ControlSignals SLRD=</font><font color="#CC6600">"SLRD"</font> <font color="#A020F0">SLWR=</font><font color="#CC6600">"SLWR"</font> <font color="#A020F0">PKTEND=</font><font color="#CC6600">"PKTEND"</font> <font color="#A020F0">SLOE=</font><font color="#CC6600">"SLOE"</font> <font color="#A020F0">FIFOADR=</font><font color="#CC6600">"FIFOADR"</font> <font color="#A020F0">STMEN=</font><font color="#CC6600">"STMEN"</font> <font color="#A020F0">transfert=</font><font color="#CC6600">"transfert"</font> <font color="#A020F0">fromTo=</font><font color="#CC6600">"fromTo"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;StateMachine name=</font><font color="#CC6600">"sm"</font> <font color="#A020F0">transfert=</font><font color="#CC6600">"transfert"</font> <font color="#A020F0">fromTo=</font><font color="#CC6600">"fromTo"</font> <font color="#A020F0">clk=</font><font color="#CC6600">"IFCLK"</font> <font color="#A020F0">raz=</font><font color="#CC6600">"resetDSTM"</font> <font color="#A020F0">STMEN=</font><font color="#CC6600">"STMEN"</font> <font color="#A020F0">FLAGA=</font><font color="#CC6600">"FLAGA"</font> <font color="#A020F0">FLAGB=</font><font color="#CC6600">"FLAGB"</font>
  				<font color="#A020F0">loadRegToFPGA=</font><font color="#CC6600">"loadRegToFPGAInterne"</font> <font color="#A020F0">loadShiftRegister=</font><font color="#CC6600">"loadShiftRegister"</font> <font color="#A020F0">inUse=</font><font color="#CC6600">"inUse"</font> <font color="#A020F0">enableFromFPGA=</font><font color="#CC6600">"enableFromFPGA"</font>
  				<font color="#A020F0">startClkPulse=</font><font color="#CC6600">"startClkPulse"</font> <font color="#A020F0">etatDSTM=</font><font color="#CC6600">"etatDSTM"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;RegistreToFPGA name=</font><font color="#CC6600">"RegToFPGA"</font> <font color="#A020F0">ce=</font><font color="#CC6600">"loadRegToFPGAInterne"</font> <font color="#A020F0">clk=</font><font color="#CC6600">"IFCLK"</font> <font color="#A020F0">d=</font><font color="#CC6600">"dataToFPGAInterne"</font> <font color="#A020F0">q=</font><font color="#CC6600">"dataToFPGA"</font> <font color="#A020F0">raz=</font><font color="#CC6600">"resetDSTM"</font>
                <font color="#A020F0">transfertSize=</font><font color="#CC6600">"transfertSize"</font> <font color="#A020F0">cmdGenClkInit=</font><font color="#CC6600">"cmdGenClkInit"</font><font color="#A020F0">/&gt;</font>

  <font color="#A020F0">&lt;code language=</font><font color="#CC6600">"logic"</font><font color="#A020F0">&gt;&lt;![CDATA[</font>
	LOCAL tmp &lt;= (not FLAGA and not fromTo) or (not FLAGB and fromTo);
	USBDB &lt;= with fromTo select(q8b, 0xZZ);
	cmd &lt;= (transfert and tmp) &amp; (loadShiftRegister or (fromTo and STMEN and tmp));
    loadRegToFPGA &lt;= loadRegToFPGAInterne;
<font color="#A020F0">]]&gt;</font>  <font color="#A020F0">&lt;/code&gt;</font>
<font color="#A020F0">&lt;/module&gt;</font>
</div></div> 
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder"><ul id="ID_PubliTool_N11110">
	<li>Transmission pc to fpga:
			<p style="top:10pt;bottom:5mm;text-align:justify;">
		<div class="centr&eacute;e"><embed src="index_114.svg" type="image/svg+xml"></embed></div>
	</p>
		</li>
		<li>Sequencing of operations&nbsp;: <p style="top:10pt;bottom:5mm;text-align:justify;">The sequencing operations are carried out by the bib.nexys3.dstm.StateMachine module. 
			The enableClkSignals signal to validate a subset of the received bits, used as clock signals 
			(in one transfer PC-&gt; FPGAs RegToFPGA loading the register, and confirming the clock signals, the clock is generated).
			</p>
<p style="top:10pt;bottom:5mm;text-align:justify;"><div class="" style="white-space:pre;background-color:#e7e3e7;margin:1cm"> <span style="background:#99FF66"><a href="index_115.lilas">StateMachine.lilas</a> : </span><div class="" style="white-space:pre;font-family:monospace;background-color:#e7e3e7;margin-top:0.2cm;margin-left:1cm"><font color="#B88408">&lt;?</font><font color="#208820">xml version="1.0" encoding="UTF-8"</font><font color="#B88408">?&gt;</font>
<font color="#A020F0">&lt;module&gt;</font>
  <font color="#A020F0">&lt;doc&gt;</font>
   <font color="#A020F0">&lt;list&gt;</font>
    <font color="#A020F0">&lt;item&gt;</font>inUse : 1 si le module DSTM est actif, 0 sinon (etat = idle)<font color="#A020F0">&lt;/item&gt;</font>
    <font color="#A020F0">&lt;item&gt;</font>enableFromFPGA : 1 si un transfert vers le PC est autoris&eacute;, 0 sinon. Ce signal permet au PC d'attendre 
    qu'un signal du circuit soit positionn&eacute; avant de recevoir l'information.
    Apr&egrave;s la g&eacute;n&eacute;ration du startClkPulse, inutile d'attendre que le signal d'horloge ait &eacute;t&eacute; g&eacute;n&eacute;r&eacute;, &eacute;tant donn&eacute; la latence
    de la prise en compte d'une nouvelle communication USB (environ entre 300ns et 600ns).	
    <font color="#A020F0">&lt;/item&gt;</font>  
   <font color="#A020F0">&lt;/list&gt;</font> 
  <font color="#A020F0">&lt;/doc&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"etatDSTM"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0x0"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"inUse"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0b0"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"transfert"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0b0"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"fromTo"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0b0"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"loadRegToFPGA"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0b0"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"loadShiftRegister"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0b0"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"startClkPulse"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0b0"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"enableFromFPGA"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0b0"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"clk"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">sensitive=</font><font color="#CC6600">"true"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0b0"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"raz"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">sensitive=</font><font color="#CC6600">"true"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0b0"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"STMEN"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0b1"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"FLAGA"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0b1"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"FLAGB"</font> <font color="#A020F0">type=</font><font color="#CC6600">"lilas.type.StdLogic"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0b1"</font><font color="#A020F0">/&gt;</font> 
  <font color="#A020F0">&lt;signal name=</font><font color="#CC6600">"etatCourant"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.String"</font> <font color="#A020F0">mode=</font><font color="#CC6600">"internal"</font><font color="#A020F0">/&gt;</font>
  
  <font color="#9A1900">&lt;!--
	fromTo : 1 fromFPGA 0=toFPGA
  --&gt;</font>
  <font color="#A020F0">&lt;code language=</font><font color="#CC6600">"logic"</font><font color="#A020F0">&gt;&lt;![CDATA[</font>
  	moore
  		smclock=clk smreset=raz sminit=stIdle smstate=etatCourant
  	    out=(etatDSTM, inUse, transfert, fromTo, loadRegToFPGA, loadShiftRegister, startClkPulse)
  		{ stIdle (etatDSTM&lt;=0x0)
  			on STMEN and not FLAGA target stToFPGA,
  			on STMEN and not FLAGB and enableFromFPGA target stStartFromFPGA},
  		{ stToFPGA (etatDSTM&lt;=0x1, inUse, transfert)
  			on not STMEN target stEndToFPGA},
  		{ stEndToFPGA (etatDSTM&lt;=0x2, inUse, loadRegToFPGA)
  			target stEndToFPGAclk},
  		{ stEndToFPGAclk (etatDSTM&lt;=0x3, inUse, startClkPulse)
  			target stIdle},
  		{ stStartFromFPGA (etatDSTM&lt;=0x4, inUse, loadShiftRegister)
  			 target stFromFPGA}, 
  		{ stFromFPGA (etatDSTM&lt;=0x5, inUse, transfert, fromTo)
  			on not STMEN target stIdle}; 
<font color="#A020F0">]]&gt;</font>  <font color="#A020F0">&lt;/code&gt;</font>
<font color="#A020F0">&lt;/module&gt;</font>
</div></div></p>
			</li>
		
</ul>
</p></div></body></html>