<html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>LILAS-V4</title><!--Généré dynamiquement par PubliTool 2009--><link href="index_2.css" rel="stylesheet"><script src="index_3.js" type="text/javascript">
   </script></head><body><div xmlns:url="http://whatever/java/java.net.URLEncoder" class="zoneTitre"><table class="zoneTitre" width="100%"><tr class="zoneTitre"><td class="colTitreLogo"><embed src="index_4.svg" type="image/svg+xml"></embed></td><td class="colTitreTxt">LILAS-V4</td></tr></table></div><div id="tocFixe"><ul><li class="niv0"><a href="index.html" onClick="return chargerURLavecHistorique(this)">LILAS-V4</a></li><li class="niv1"><a href="index_6.html" onClick="return chargerURLavecHistorique(this)">1 Installation</a></li><li class="niv1"><a href="index_7.html" onClick="return chargerURLavecHistorique(this)">2 Quick start tutorial</a></li><li class="niv1"><a href="index_19.html" onClick="return chargerURLavecHistorique(this)">3 Launch command</a></li><li class="niv1"><a href="index_20.html" onClick="return chargerURLavecHistorique(this)">4 Configuration file</a></li><li class="niv1"><a href="index_21.html" onClick="return chargerURLavecHistorique(this)">5 Lilas programming</a></li><li class="niv2"><a href="index_22.html" onClick="return chargerURLavecHistorique(this)">5.1 lilas.base</a></li><li class="niv3"><a href="index_23.html" onClick="return chargerURLavecHistorique(this)">5.1.1 lilas.base.Signal</a></li><li class="niv3"><a href="index_24.html" onClick="return chargerURLavecHistorique(this)">5.1.2 lilas.base.Port</a></li><li class="niv3sel"><a href="index_25.html" onClick="return chargerURLavecHistorique(this)">5.1.3 lilas.base.Module</a></li><li class="niv2"><a href="index_26.html" onClick="return chargerURLavecHistorique(this)">5.2 lilas.awt</a></li><li class="niv2"><a href="index_40.html" onClick="return chargerURLavecHistorique(this)">5.3 lilas.script</a></li><li class="niv2"><a href="index_60.html" onClick="return chargerURLavecHistorique(this)">5.4 lilas.sm</a></li><li class="niv2"><a href="index_61.html" onClick="return chargerURLavecHistorique(this)">5.5 lilas.code</a></li><li class="niv1"><a href="index_64.html" onClick="return chargerURLavecHistorique(this)">6 lilas.bib</a></li><li class="niv1"><a href="index_88.html" onClick="return chargerURLavecHistorique(this)">7 FPGA board</a></li><li class="niv1"><a href="index_91.html" onClick="return chargerURLavecHistorique(this)">8 Lilas examples</a></li></ul></div><div class="zoneMain"><p class="H2c" xmlns:url="http://whatever/java/java.net.URLEncoder">
   - 5.1.3 -</p><p class="H2c" xmlns:url="http://whatever/java/java.net.URLEncoder">lilas.base.Module</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">A module is defined by an XML document as follows&nbsp;:
<div style="white-space:pre;font-family:monospace;">
<font color="#A020F0">&lt;module&gt;</font>
  Definition signals and/or call module and/or activation definition
  and/or definition of awt interface
<font color="#A020F0">&lt;/module&gt;</font>

</div>
A module is designated by concatenating the package name and the module name like for a java class names. 
For example, the module defined in the file <span style="font-family:monospace;">examples/logic/ex1/DemiAdd</span> is denoted 
by <span style="font-family:monospace;">exemples.logic.ex1.DemiAdd</span> (<span style="font-family:monospace;">exemples.logic.ex1</span> form the package, <span style="font-family:monospace;">DemiAdd</span>
 is the module name in that package).
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">A <i>LILAS</i> module will result in a java class. This class has for name the module name. We will refer to this class
	 as the class of the module activation. The file for this class will be recreated each time you start <i>LILAS</i>
	 with option <span style="font-family:monospace;">-to=java</span>.
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">Let's take, for example module <span style="font-family:monospace;">demo.eq2d.Discriminant</span>  described below, which calculates the discriminant 
of a quadratic equation&nbsp;:
 <div class="" style="white-space:pre;background-color:#e7e3e7;margin:1cm"> <span style="background:#99FF66"><a href="index_195.lilas">Discriminant.lilas</a> : </span><div class="" style="white-space:pre;font-family:monospace;background-color:#e7e3e7;margin-top:0.2cm;margin-left:1cm"><font color="#B88408">&lt;?</font><font color="#208820">xml version="1.0" encoding="UTF-8"</font><font color="#B88408">?&gt;</font>
<font color="#A020F0">&lt;module&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"va"</font> <font color="#A020F0">sensitive=</font><font color="#CC6600">"true"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Double"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"vb"</font> <font color="#A020F0">sensitive=</font><font color="#CC6600">"true"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Double"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"vc"</font> <font color="#A020F0">sensitive=</font><font color="#CC6600">"true"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Double"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"vdelta"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Double"</font><font color="#A020F0">/&gt;</font> 

  <font color="#A020F0">&lt;code language=</font><font color="#CC6600">"java"</font><font color="#A020F0">/&gt;</font>
<font color="#A020F0">&lt;/module&gt;</font>
</div></div>
The actual calculation of the discriminant will be directed by the activation class defined by&nbsp;:
 <div class="" style="white-space:pre;background-color:#e7e3e7;margin:1cm"> <span style="background:#99FF66"><a href="index_196.java">Discriminant.java</a> : </span><div class="" style="white-space:pre;font-family:monospace;background-color:#e7e3e7;margin-top:0.2cm;margin-left:1cm"><font color="#009900">package</font><font color="#0000FF"> demo.eq2d</font>;
<font color="#009900">public</font> <font color="#009900">class</font> <font color="#0000FF">Discriminant</font> <font color="#009900">extends</font> <font color="#0000FF">Discriminant_LILAS</font>
{
	<font color="#009900">public</font> <font color="#0000FF">Discriminant</font>(<font color="#0000FF">String</font> <font color="#FF00FF">nameInParentModule</font>, <font color="#0000FF">lilas.base.Module</font> <font color="#FF00FF">parent</font>,
			<font color="#0000FF">lilas.base.Signal</font><font color="#FF00FF">&lt;</font><font color="#0000FF">java.lang.Double</font><font color="#FF00FF">&gt;</font> <font color="#0000FF">va_signal</font><font color="#FF00FF">,</font>
			<font color="#0000FF">lilas.base.Signal</font><font color="#FF00FF">&lt;</font><font color="#0000FF">java.lang.Double</font><font color="#FF00FF">&gt;</font> <font color="#0000FF">vb_signal</font><font color="#FF00FF">,</font>
			<font color="#0000FF">lilas.base.Signal</font><font color="#FF00FF">&lt;</font><font color="#0000FF">java.lang.Double</font><font color="#FF00FF">&gt;</font> <font color="#0000FF">vc_signal</font><font color="#FF00FF">,</font>
			<font color="#0000FF">lilas.base.Signal</font><font color="#FF00FF">&lt;</font><font color="#0000FF">java.lang.Double</font><font color="#FF00FF">&gt;</font> <font color="#0000FF">vdelta_signal</font><font color="#FF00FF">)</font> <font color="#0000FF">throws</font> <font color="#FF00FF">lilas.base.ExceptionLilas</font> <font color="#0000FF">{</font>
		<font color="#FF00FF">super</font><font color="#0000FF">(</font><font color="#FF00FF">nameInParentModule</font>, <font color="#0000FF">parent</font><font color="#FF00FF">,</font>
			<font color="#0000FF">va_signal</font><font color="#FF00FF">,</font>
			<font color="#0000FF">vb_signal</font><font color="#FF00FF">,</font>
			<font color="#0000FF">vc_signal</font><font color="#FF00FF">,</font>
			<font color="#0000FF">vdelta_signal</font><font color="#FF00FF">)</font><font color="#0000FF">;</font>
		<font color="#FF00FF">vdelta_port.propagate</font> <font color="#0000FF">=</font> <font color="#FF00FF">lilas.base.Port.Propagate.PERMANENT</font><font color="#0000FF">;</font>
	<font color="#FF00FF">}</font>

	<font color="#0000FF">@Override</font>
	<font color="#FF00FF">final</font> <font color="#0000FF">protected</font> <font color="#FF00FF">void</font> <font color="#0000FF">activation</font><font color="#FF00FF">(</font>) <font color="#009900">throws</font> <font color="#0000FF">lilas.base.ExceptionLilas</font> {
		vdelta = vb*vb-4.0*va*vc;
	}
}

</div></div>
The module <span style="font-family:monospace;">demo.eq2d.Solution</span> described below allows the production of nbrSol values, g1 and g2 
on the basis of the module's input signals:
<div class="" style="white-space:pre;background-color:#e7e3e7;margin:1cm"> <span style="background:#99FF66"><a href="index_197.lilas">Solution.lilas</a> : </span><div class="" style="white-space:pre;font-family:monospace;background-color:#e7e3e7;margin-top:0.2cm;margin-left:1cm"><font color="#B88408">&lt;?</font><font color="#208820">xml version="1.0" encoding="UTF-8"</font><font color="#B88408">?&gt;</font>
<font color="#A020F0">&lt;module&gt;</font>

  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"a"</font> <font color="#A020F0">sensitive=</font><font color="#CC6600">"true"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Double"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"b"</font> <font color="#A020F0">sensitive=</font><font color="#CC6600">"true"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Double"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"delta"</font> <font color="#A020F0">sensitive=</font><font color="#CC6600">"true"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Double"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"nbrSol"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Integer"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"sol1"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Double"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"sol2"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Double"</font><font color="#A020F0">/&gt;</font>
  
  <font color="#A020F0">&lt;code language=</font><font color="#CC6600">"java"</font><font color="#A020F0">/&gt;</font>
<font color="#A020F0">&lt;/module&gt;</font>
</div></div>
The activation class will be defined by&nbsp;:
<div class="" style="white-space:pre;background-color:#e7e3e7;margin:1cm"> <span style="background:#99FF66"><a href="index_198.java">Solution.java</a> : </span><div class="" style="white-space:pre;font-family:monospace;background-color:#e7e3e7;margin-top:0.2cm;margin-left:1cm"><font color="#009900">package</font><font color="#0000FF"> demo.eq2d</font>;
<font color="#009900">public</font> <font color="#009900">class</font> <font color="#0000FF">Solution</font> <font color="#009900">extends</font> <font color="#0000FF">Solution_LILAS</font>
{
	<font color="#009900">public</font> <font color="#0000FF">Solution</font>(<font color="#0000FF">String</font> <font color="#FF00FF">nameInParentModule</font>, <font color="#0000FF">lilas.base.Module</font> <font color="#FF00FF">parent</font>,
			<font color="#0000FF">lilas.base.Signal</font><font color="#FF00FF">&lt;</font><font color="#0000FF">java.lang.Double</font><font color="#FF00FF">&gt;</font> <font color="#0000FF">a_signal</font><font color="#FF00FF">,</font>
			<font color="#0000FF">lilas.base.Signal</font><font color="#FF00FF">&lt;</font><font color="#0000FF">java.lang.Double</font><font color="#FF00FF">&gt;</font> <font color="#0000FF">b_signal</font><font color="#FF00FF">,</font>
			<font color="#0000FF">lilas.base.Signal</font><font color="#FF00FF">&lt;</font><font color="#0000FF">java.lang.Double</font><font color="#FF00FF">&gt;</font> <font color="#0000FF">delta_signal</font><font color="#FF00FF">,</font>
			<font color="#0000FF">lilas.base.Signal</font><font color="#FF00FF">&lt;</font><font color="#0000FF">java.lang.Integer</font><font color="#FF00FF">&gt;</font> <font color="#0000FF">nbrSol_signal</font><font color="#FF00FF">,</font>
			<font color="#0000FF">lilas.base.Signal</font><font color="#FF00FF">&lt;</font><font color="#0000FF">java.lang.Double</font><font color="#FF00FF">&gt;</font> <font color="#0000FF">sol1_signal</font><font color="#FF00FF">,</font>
			<font color="#0000FF">lilas.base.Signal</font><font color="#FF00FF">&lt;</font><font color="#0000FF">java.lang.Double</font><font color="#FF00FF">&gt;</font> <font color="#0000FF">sol2_signal</font><font color="#FF00FF">)</font> <font color="#0000FF">throws</font> <font color="#FF00FF">lilas.base.ExceptionLilas</font> <font color="#0000FF">{</font>
		<font color="#FF00FF">super</font><font color="#0000FF">(</font><font color="#FF00FF">nameInParentModule</font>, <font color="#0000FF">parent</font><font color="#FF00FF">,</font>
			<font color="#0000FF">a_signal</font><font color="#FF00FF">,</font>
			<font color="#0000FF">b_signal</font><font color="#FF00FF">,</font>
			<font color="#0000FF">delta_signal</font><font color="#FF00FF">,</font>
			<font color="#0000FF">nbrSol_signal</font><font color="#FF00FF">,</font>
			<font color="#0000FF">sol1_signal</font><font color="#FF00FF">,</font>
			<font color="#0000FF">sol2_signal</font><font color="#FF00FF">)</font><font color="#0000FF">;</font>
		<font color="#FF00FF">nbrSol_port.propagate</font> <font color="#0000FF">=</font> <font color="#FF00FF">lilas.base.Port.Propagate.PERMANENT</font><font color="#0000FF">;</font>
		<font color="#FF00FF">sol1_port.propagate</font> <font color="#0000FF">=</font> <font color="#FF00FF">lilas.base.Port.Propagate.PERMANENT</font><font color="#0000FF">;</font>
		<font color="#FF00FF">sol2_port.propagate</font> <font color="#0000FF">=</font> <font color="#FF00FF">lilas.base.Port.Propagate.PERMANENT</font><font color="#0000FF">;</font>
	<font color="#FF00FF">}</font>

	<font color="#0000FF">@Override</font>
	<font color="#FF00FF">final</font> <font color="#0000FF">protected</font> <font color="#FF00FF">void</font> <font color="#0000FF">activation</font><font color="#FF00FF">(</font>) <font color="#009900">throws</font> <font color="#0000FF">lilas.base.ExceptionLilas</font> {
		<font color="#009900">if</font> (delta==0.0) {
			<font color="#009900">double</font> <font color="#FF00FF">res</font> = -b / (2.0*a);
			nbrSol = 1;
			sol1 = res;
			sol2 = res;
		} <font color="#009900">else</font> <font color="#009900">if</font> (delta&gt;0.0 &amp;&amp; !Double.isNaN(delta)) {
			<font color="#009900">double</font> <font color="#FF00FF">sqrtDelta</font> = Math.sqrt(delta);
			nbrSol = 2;
			sol1=((-b+sqrtDelta) / (2.0*a));
			sol2=((-b-sqrtDelta) / (2.0*a));
		} <font color="#009900">else</font> {
			nbrSol = 0;
			sol1 = Double.NaN;
			sol2 = Double.NaN;
		}

	}
}

</div></div>
</p><p class="H3" xmlns:url="http://whatever/java/java.net.URLEncoder">5.1.3.1 Module instance</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">A module definition may contain one or more module instances connected to one another by signals. For example, 
	the module demo.eq2d.Eq2ndDeg described below, shows an organization using an instance of the discriminant module 
	and an instance of Solution module. The flow of data in this module can be described by the diagram:
<p style="top:10pt;bottom:5mm;text-align:center;">
<embed src="index_199.svg" type="image/svg+xml"></embed>
</p>
<div class="" style="white-space:pre;background-color:#e7e3e7;margin:1cm"> <span style="background:#99FF66"><a href="index_200.lilas">Eq2ndDeg.lilas</a> : </span><div class="" style="white-space:pre;font-family:monospace;background-color:#e7e3e7;margin-top:0.2cm;margin-left:1cm"><font color="#B88408">&lt;?</font><font color="#208820">xml version="1.0" encoding="UTF-8"</font><font color="#B88408">?&gt;</font>
<font color="#A020F0">&lt;module&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"a"</font> <font color="#A020F0">sensitive=</font><font color="#CC6600">"true"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Double"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"b"</font> <font color="#A020F0">sensitive=</font><font color="#CC6600">"true"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Double"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"c"</font> <font color="#A020F0">sensitive=</font><font color="#CC6600">"true"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Double"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal init=</font><font color="#CC6600">"0.0"</font> <font color="#A020F0">mode=</font><font color="#CC6600">"internal"</font> <font color="#A020F0">name=</font><font color="#CC6600">"delta"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Double"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"nbrSol"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Integer"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"sol1"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Double"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"sol2"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Double"</font><font color="#A020F0">/&gt;</font>

  <font color="#A020F0">&lt;Solution a=</font><font color="#CC6600">"a"</font> <font color="#A020F0">b=</font><font color="#CC6600">"b"</font> <font color="#A020F0">delta=</font><font color="#CC6600">"delta"</font> <font color="#A020F0">name=</font><font color="#CC6600">"modSol"</font> <font color="#A020F0">nbrSol=</font><font color="#CC6600">"nbrSol"</font> <font color="#A020F0">sol1=</font><font color="#CC6600">"sol1"</font> <font color="#A020F0">sol2=</font><font color="#CC6600">"sol2"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;Discriminant name=</font><font color="#CC6600">"modDisc"</font> <font color="#A020F0">va=</font><font color="#CC6600">"a"</font> <font color="#A020F0">vb=</font><font color="#CC6600">"b"</font> <font color="#A020F0">vc=</font><font color="#CC6600">"c"</font> <font color="#A020F0">vdelta=</font><font color="#CC6600">"delta"</font><font color="#A020F0">/&gt;</font>

  <font color="#A020F0">&lt;edit height=</font><font color="#CC6600">"250"</font> <font color="#A020F0">width=</font><font color="#CC6600">"450"</font><font color="#A020F0">&gt;</font>
		<font color="#A020F0">&lt;modDisc x=</font><font color="#CC6600">"70"</font> <font color="#A020F0">y=</font><font color="#CC6600">"30"</font><font color="#A020F0">/&gt;</font>
		<font color="#A020F0">&lt;modSol x=</font><font color="#CC6600">"230"</font> <font color="#A020F0">y=</font><font color="#CC6600">"30"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;/edit&gt;</font>
<font color="#A020F0">&lt;/module&gt;</font>
</div></div>
 
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">As shown in the above definition of the module
<span style="font-family:monospace;">demo.eq2d.Eq2ndDeg</span>, a module definition may contain zero, one or more interface definitions awt.</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">When in the definition of a module instance, one of the signals passed as a parameter is a constant, 
	we can simplify the writing of the call by simply indicating the value of this constant and not 
the name of contante signal n, therefore not need to be explicitly defined (it will be automatically). 
	Thus, the following two module instances definitions are equivalent&nbsp;:
	
<div style="white-space:pre;font-family:monospace;">
	-- with explicit constant signal
		<font color="#A020F0">&lt;signal init=</font><font color="#CC6600">"2.0"</font> <font color="#A020F0">mode=</font><font color="#CC6600">"constant"</font> <font color="#A020F0">name=</font><font color="#CC6600">"modSol_a_cte"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Double"</font><font color="#A020F0">/&gt;</font>	
		<font color="#A020F0">&lt;Solution a=</font><font color="#CC6600">"modSol_a_cte"</font> <font color="#A020F0">b=</font><font color="#CC6600">"b"</font> <font color="#A020F0">delta=</font><font color="#CC6600">"delta"</font> <font color="#A020F0">name=</font><font color="#CC6600">"modSol"</font> <font color="#A020F0">nbrSol=</font><font color="#CC6600">"nbrSol"</font> <font color="#A020F0">sol1=</font><font color="#CC6600">"sol1"</font> <font color="#A020F0">sol2=</font><font color="#CC6600">"sol2"</font><font color="#A020F0">/&gt;</font>
		
	-- with implicit constant signal
		<font color="#A020F0">&lt;Solution a=</font><font color="#CC6600">"2.0"</font> <font color="#A020F0">b=</font><font color="#CC6600">"b"</font> <font color="#A020F0">delta=</font><font color="#CC6600">"delta"</font> <font color="#A020F0">name=</font><font color="#CC6600">"modSol"</font> <font color="#A020F0">nbrSol=</font><font color="#CC6600">"nbrSol"</font> <font color="#A020F0">sol1=</font><font color="#CC6600">"sol1"</font> <font color="#A020F0">sol2=</font><font color="#CC6600">"sol2"</font><font color="#A020F0">/&gt;</font>
</div>
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">When a constant signal is defined implicitly, the name of this signal is created with the instance name 
	of the module concatenated with "_" following by the external signal name associated to the called module 
	and ending with "_cte" (so, in our example: modSol_a_cte).</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">Four attributes can be used to change the position of the connections of external signals in the case of automatically generated graphical representation: left, right, up, down.
<div style="white-space:pre;font-family:monospace;">
		
		<font color="#A020F0">&lt;Solution a=</font><font color="#CC6600">"2.0"</font> <font color="#A020F0">b=</font><font color="#CC6600">"b"</font> <font color="#A020F0">delta=</font><font color="#CC6600">"delta"</font> <font color="#A020F0">name=</font><font color="#CC6600">"modSol"</font> <font color="#A020F0">nbrSol=</font><font color="#CC6600">"nbrSol"</font> <font color="#A020F0">sol1=</font><font color="#CC6600">"sol1"</font> <font color="#A020F0">sol2=</font><font color="#CC6600">"sol2"</font> <font color="#A020F0">left=</font><font color="#CC6600">"a b"</font> <font color="#A020F0">right=</font><font color="#CC6600">"c d"</font><font color="#A020F0">/&gt;</font>
</div>
</p><p class="H3" xmlns:url="http://whatever/java/java.net.URLEncoder">5.1.3.2 The activation class</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">The execution of an activation class associated with a module is done in two stages:
<ul id="ID_PubliTool_N105FD">
<li>initialization of local values ​​from the signals, setting local values ​​by calling the activate() method.</li>
<li>propagation of local values ​​onto signals.</li>
</ul>
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">This execution is carried out only for the modules to be activated. The sequencing of the two 
	stages is synchronous on all modules which can be activated, that is to say that the propogation of local 
	values ​​only occurs when all the activated modules have completed the setting of the new local values ​​and 
	their updated. A new initialization step only occurs when all the modules have completed their propagation phase.
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">The activation class have a super class whose name is created which the module name concatenated with "_LILAS".
	We call this super class the root class of the module. We can see the corresponding definition with
	the command option <span style="font-family:monospace;">-show=javaRoot</span>. For example, the root class for module Discriminant is&nbsp;:
<div style="white-space:pre;font-family:monospace;">$ <font color="#0x000086">lilas /demo/eq2d/Discriminant.lilas -show=javaRoot</font>
// file generated by LILASV4 on 8/19/15 5:11 PM
package demo.eq2d;

public abstract class Discriminant_LILAS extends lilas.base.Module

{
	public java.lang.Double va;
	public lilas.base.Port&lt;java.lang.Double&gt; va_port;
	public java.lang.Double vb;
	public lilas.base.Port&lt;java.lang.Double&gt; vb_port;
	public java.lang.Double vc;
	public lilas.base.Port&lt;java.lang.Double&gt; vc_port;
	public java.lang.Double vdelta;
	public lilas.base.Port&lt;java.lang.Double&gt; vdelta_port;

	public Discriminant_LILAS(String nameInParentModule, lilas.base.Module parent,
			lilas.base.Signal&lt;java.lang.Double&gt; va_signal,
			lilas.base.Signal&lt;java.lang.Double&gt; vb_signal,
			lilas.base.Signal&lt;java.lang.Double&gt; vc_signal,
			lilas.base.Signal&lt;java.lang.Double&gt; vdelta_signal) throws lilas.base.ExceptionLilas {
		super(nameInParentModule, parent);
		va_port=createPort("va", va_signal, lilas.base.Port.Mode.IN, true);
		vb_port=createPort("vb", vb_signal, lilas.base.Port.Mode.IN, true);
		vc_port=createPort("vc", vc_signal, lilas.base.Port.Mode.IN, true);
		if (vdelta_signal!=null) vdelta_port=createPort("vdelta", vdelta_signal, lilas.base.Port.Mode.OUT);
		else vdelta_port=createPort("vdelta", new lilas.base.Signal&lt;java.lang.Double&gt;(this, new java.lang.Double(null), false), lilas.base.Port.Mode.OUT);

	}
	protected abstract void activation() throws lilas.base.ExceptionLilas;

}

</div>
	</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">The variables associated with the signals, visible in the activation class, have the same name as the signal. 
To each signal, a variable whose name if the signal name concatenated to "_port" is also defined and can be used
	to access to the port associated with the signal. In particular the port variable is used to indicate if a new 
	variable value has to be propagated after each activation (lilas.base.Port.Propagate.PERMANENT), or never 
	(lilas.base.Port.Propagate.NONE), or
	once (lilas.base.Port.Propagate.ONCE). We have to set the field "port" of the port variable. When propagating one, 
	this field is set to  lilas.base.Port.Propagate.NONE after the propagation.

</p><p class="H3" xmlns:url="http://whatever/java/java.net.URLEncoder">5.1.3.3 Variable configuration module</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">A module can be defined with a many configuration, depending of a constant signal. This possibility 
		can be used to construct regular modules organizations (e.g., through a recursive description). 
		The particular value of the constant must be known at the time of the module instance creation.
		This constant signal is called generic signal. 
	</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">A variable configuration module is defined with an element <span style="font-family:monospace;">case</span> in module declaration.
	This element contains many <span style="font-family:monospace;">when</span> elements following with an <span style="font-family:monospace;">otherwise</span> element.
	Each <span style="font-family:monospace;">when</span> element specifie a condition determine during the instance creation. For example, 
	the <span style="font-family:monospace;">demo.sigma.Sigma</span> module defined recursively by 
<p style="top:10pt;bottom:5mm;text-align:center;">Sigma<sub>n</sub><sup>m</sup>(x) =
Sigma<sub>n</sub><sup>(n+m)/2</sup>(x)
+Sigma<sub>(n+m)/2+1</sub><sup>m</sup>(x)</p>
<p style="top:10pt;bottom:5mm;text-align:center;">Sigma<sub>n</sub><sup>n</sup>(x) = x<sup>n</sup></p>
	</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">is defined by&nbsp;:
<div class="" style="white-space:pre;background-color:#e7e3e7;margin:1cm"> <span style="background:#99FF66"><a href="index_201.lilas">Sigma.lilas</a> : </span><div class="" style="white-space:pre;font-family:monospace;background-color:#e7e3e7;margin-top:0.2cm;margin-left:1cm"><font color="#B88408">&lt;?</font><font color="#208820">xml version="1.0" encoding="UTF-8"</font><font color="#B88408">?&gt;</font>
<font color="#A020F0">&lt;module&gt;</font>
  <font color="#A020F0">&lt;doc&gt;</font>Execute operator Sigma(n, m, x) = x**n+x**(n+1)+..+x**m<font color="#A020F0">&lt;/doc&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"constant"</font> <font color="#A020F0">name=</font><font color="#CC6600">"n"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Integer"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"constant"</font> <font color="#A020F0">name=</font><font color="#CC6600">"m"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Integer"</font><font color="#A020F0">/&gt;</font>
  
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"x"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0"</font> <font color="#A020F0">sensitive=</font><font color="#CC6600">"true"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Long"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"y"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Long"</font><font color="#A020F0">/&gt;</font>

<font color="#A020F0">&lt;case&gt;</font>
	<font color="#A020F0">&lt;when cond=</font><font color="#CC6600">"n.equals(m)"</font><font color="#A020F0">&gt;</font>
		<font color="#A020F0">&lt;SigmaN n=</font><font color="#CC6600">"n"</font> <font color="#A020F0">x=</font><font color="#CC6600">"x"</font> <font color="#A020F0">y=</font><font color="#CC6600">"y"</font><font color="#A020F0">/&gt;</font>
	<font color="#A020F0">&lt;/when&gt;</font>
	<font color="#A020F0">&lt;otherwise&gt;</font>
		<font color="#A020F0">&lt;SigmaNM n=</font><font color="#CC6600">"n"</font> <font color="#A020F0">m=</font><font color="#CC6600">"m"</font> <font color="#A020F0">x=</font><font color="#CC6600">"x"</font> <font color="#A020F0">y=</font><font color="#CC6600">"y"</font><font color="#A020F0">/&gt;</font>
	<font color="#A020F0">&lt;/otherwise&gt;</font>
<font color="#A020F0">&lt;/case&gt;</font>
  
<font color="#A020F0">&lt;/module&gt;</font>
 
</div></div>
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">Signals n and m are constant whose value is given at the instance creation time.
Module <span style="font-family:monospace;">demo.sigma.SigmaN</span> is defined by <div class="" style="white-space:pre;background-color:#e7e3e7;margin:1cm"> <span style="background:#99FF66"><a href="index_202.lilas">SigmaN.lilas</a> : </span><div class="" style="white-space:pre;font-family:monospace;background-color:#e7e3e7;margin-top:0.2cm;margin-left:1cm"><font color="#B88408">&lt;?</font><font color="#208820">xml version="1.0" encoding="UTF-8"</font><font color="#B88408">?&gt;</font>
<font color="#A020F0">&lt;module&gt;</font>
	<font color="#A020F0">&lt;doc&gt;</font>Execute operator Sigma(n, m, x) = x**n+x**(n+1)+..+x**m<font color="#A020F0">&lt;/doc&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"constant"</font> <font color="#A020F0">name=</font><font color="#CC6600">"n"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Integer"</font><font color="#A020F0">/&gt;</font>
  
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"x"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0"</font> <font color="#A020F0">sensitive=</font><font color="#CC6600">"true"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Long"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"y"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Long"</font><font color="#A020F0">/&gt;</font>

  <font color="#A020F0">&lt;code language=</font><font color="#CC6600">"java"</font><font color="#A020F0">/&gt;</font>
<font color="#A020F0">&lt;/module&gt;</font> 
  
</div></div>

while <span style="font-family:monospace;">demo.sigma.SigmaNM</span> is defined by <div class="" style="white-space:pre;background-color:#e7e3e7;margin:1cm"> <span style="background:#99FF66"><a href="index_203.lilas">SigmaNM.lilas</a> : </span><div class="" style="white-space:pre;font-family:monospace;background-color:#e7e3e7;margin-top:0.2cm;margin-left:1cm"><font color="#B88408">&lt;?</font><font color="#208820">xml version="1.0" encoding="UTF-8"</font><font color="#B88408">?&gt;</font>
<font color="#A020F0">&lt;module&gt;</font>
	<font color="#A020F0">&lt;doc&gt;</font>Execute operator Sigma(n, m, x) = x**n+x**(n+1)+..+x**m<font color="#A020F0">&lt;/doc&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"constant"</font> <font color="#A020F0">name=</font><font color="#CC6600">"n"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Integer"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"constant"</font> <font color="#A020F0">name=</font><font color="#CC6600">"m"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Integer"</font><font color="#A020F0">/&gt;</font>
  
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"x"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0"</font> <font color="#A020F0">sensitive=</font><font color="#CC6600">"true"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Long"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"out"</font> <font color="#A020F0">name=</font><font color="#CC6600">"y"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Long"</font><font color="#A020F0">/&gt;</font>

  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"constant"</font> <font color="#A020F0">name=</font><font color="#CC6600">"n0"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Integer"</font> <font color="#A020F0">init=</font><font color="#CC6600">"(n+m)/2"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"constant"</font> <font color="#A020F0">name=</font><font color="#CC6600">"n1"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Integer"</font> <font color="#A020F0">init=</font><font color="#CC6600">"n0+1"</font><font color="#A020F0">/&gt;</font>
    	
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"internal"</font> <font color="#A020F0">name=</font><font color="#CC6600">"y1"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Long"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0"</font> <font color="#A020F0">sensitive=</font><font color="#CC6600">"true"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"internal"</font> <font color="#A020F0">name=</font><font color="#CC6600">"y2"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.Long"</font> <font color="#A020F0">init=</font><font color="#CC6600">"0"</font> <font color="#A020F0">sensitive=</font><font color="#CC6600">"true"</font><font color="#A020F0">/&gt;</font>
  
  <font color="#A020F0">&lt;Sigma n=</font><font color="#CC6600">"n"</font> <font color="#A020F0">m=</font><font color="#CC6600">"n0"</font> <font color="#A020F0">x=</font><font color="#CC6600">"x"</font> <font color="#A020F0">y=</font><font color="#CC6600">"y1"</font><font color="#A020F0">/&gt;</font>
  <font color="#A020F0">&lt;Sigma n=</font><font color="#CC6600">"n1"</font> <font color="#A020F0">m=</font><font color="#CC6600">"m"</font> <font color="#A020F0">x=</font><font color="#CC6600">"x"</font> <font color="#A020F0">y=</font><font color="#CC6600">"y2"</font><font color="#A020F0">/&gt;</font>
 
  <font color="#A020F0">&lt;code language=</font><font color="#CC6600">"java"</font><font color="#A020F0">/&gt;</font>
  
<font color="#A020F0">&lt;/module&gt;</font>
  
</div></div>.
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">A call to Sigma module with value n=1 and m=4 leads to the following static organization:
<div class="centr&eacute;e"><embed src="index_204.svg" type="image/svg+xml"></embed></div>
</p><p class="H3" xmlns:url="http://whatever/java/java.net.URLEncoder">5.1.3.4 Classe ModuleExternalEvent</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder"> 
  The ModuleExternalEvent class is a subclass of class Module that can be activated upon receipt of an 
 	external event (awt or other). The class is designed to synchronize the passage of the values 
 	​​received with postActivation stage since the receipt of an external value causes the addition 
 	of ModuleExternalEvent instance in the list of modules postActiver.
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">
All classes methods manages external events (especially awt) must use an instance of this class 
	to interface with the system <i>LILAS</i>. When an external event causes the creation of a value, 
	it is sufficient to apply the method <span style="font-family:monospace;">setValueFromAWT(T val)</span> an instance of the class ModuleExternalEvent. 
	The value will be propagated on a signal during system postActivation phase.

</p></div></body></html>