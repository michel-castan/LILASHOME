<html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>LILAS-V4</title><!--Généré dynamiquement par PubliTool 2009--><link href="index_2.css" rel="stylesheet"><script src="index_3.js" type="text/javascript">
   </script></head><body><div xmlns:url="http://whatever/java/java.net.URLEncoder" class="zoneTitre"><table class="zoneTitre" width="100%"><tr class="zoneTitre"><td class="colTitreLogo"><embed src="index_4.svg" type="image/svg+xml"></embed></td><td class="colTitreTxt">LILAS-V4</td></tr></table></div><div id="tocFixe"><ul><li class="niv0"><a href="index.html" onClick="return chargerURLavecHistorique(this)">LILAS-V4</a></li><li class="niv1"><a href="index_6.html" onClick="return chargerURLavecHistorique(this)">1 Installation</a></li><li class="niv1"><a href="index_7.html" onClick="return chargerURLavecHistorique(this)">2 Quick start tutorial</a></li><li class="niv2"><a href="index_8.html" onClick="return chargerURLavecHistorique(this)">2.1 demo.hello.Hello</a></li><li class="niv3"><a href="index_9.html" onClick="return chargerURLavecHistorique(this)">2.1.1 demo.hello.Hello1</a></li><li class="niv3sel"><a href="index_10.html" onClick="return chargerURLavecHistorique(this)">2.1.2 demo.hello.Hello2</a></li><li class="niv2"><a href="index_11.html" onClick="return chargerURLavecHistorique(this)">2.2 demo.sqrt.SQRT</a></li><li class="niv2"><a href="index_15.html" onClick="return chargerURLavecHistorique(this)">2.3 demo.ctrup.CtrUpDown</a></li><li class="niv1"><a href="index_19.html" onClick="return chargerURLavecHistorique(this)">3 Launch command</a></li><li class="niv1"><a href="index_20.html" onClick="return chargerURLavecHistorique(this)">4 Configuration file</a></li><li class="niv1"><a href="index_21.html" onClick="return chargerURLavecHistorique(this)">5 Lilas programming</a></li><li class="niv1"><a href="index_64.html" onClick="return chargerURLavecHistorique(this)">6 lilas.bib</a></li><li class="niv1"><a href="index_88.html" onClick="return chargerURLavecHistorique(this)">7 FPGA board</a></li><li class="niv1"><a href="index_91.html" onClick="return chargerURLavecHistorique(this)">8 Lilas examples</a></li></ul></div><div class="zoneMain"><p class="H2c" xmlns:url="http://whatever/java/java.net.URLEncoder">
   - 2.1.2 -</p><p class="H2c" xmlns:url="http://whatever/java/java.net.URLEncoder">demo.hello.Hello2</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">What about using a nice graphic window for the message&nbsp;? This
	can be done by adding one or many graphic interfaces in the module definition by the way of the <span style="font-family:monospace;">awt</span> element.
	 
<div class="" style="white-space:pre;background-color:#e7e3e7;margin:1cm"> <span style="background:#99FF66"><a href="index_224.lilas">Hello2.lilas</a> : </span><div class="" style="white-space:pre;font-family:monospace;background-color:#e7e3e7;margin-top:0.2cm;margin-left:1cm"><font color="#B88408">&lt;?</font><font color="#208820">xml version="1.0" encoding="UTF-8"</font><font color="#B88408">?&gt;</font>
<font color="#A020F0">&lt;module&gt;</font>
	<font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"in"</font> <font color="#A020F0">name=</font><font color="#CC6600">"sender"</font> <font color="#A020F0">sensitive=</font><font color="#CC6600">"true"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.String"</font><font color="#A020F0">/&gt;</font>
	<font color="#A020F0">&lt;signal mode=</font><font color="#CC6600">"internal"</font> <font color="#A020F0">name=</font><font color="#CC6600">"msg"</font> <font color="#A020F0">type=</font><font color="#CC6600">"java.lang.String"</font><font color="#A020F0">/&gt;</font>		

 	<font color="#A020F0">&lt;code language=</font><font color="#CC6600">"java"</font><font color="#A020F0">/&gt;</font> 
	
 	<font color="#A020F0">&lt;awt name=</font><font color="#CC6600">"draw"</font><font color="#A020F0">&gt;</font>
 		<font color="#A020F0">&lt;ImageSVG img=</font><font color="#CC6600">"demo.hello.HelloDraw"</font><font color="#A020F0">&gt;</font>
 			<font color="#A020F0">&lt;ElementSVG idRef=</font><font color="#CC6600">"msgHello"</font> <font color="#A020F0">signal=</font><font color="#CC6600">"msg"</font><font color="#A020F0">/&gt;</font>
 		<font color="#A020F0">&lt;/ImageSVG&gt;</font>
 	<font color="#A020F0">&lt;/awt&gt;</font>
 			
 	<font color="#A020F0">&lt;awt name=</font><font color="#CC6600">"drawInput"</font> <font color="#A020F0">layout=</font><font color="#CC6600">"border"</font><font color="#A020F0">&gt;</font>
 		<font color="#A020F0">&lt;center&gt;</font>
 			<font color="#A020F0">&lt;instance awt=</font><font color="#CC6600">"draw"</font><font color="#A020F0">/&gt;</font>
 		<font color="#A020F0">&lt;/center&gt;</font>
 		<font color="#A020F0">&lt;page_end&gt;</font>
 			<font color="#A020F0">&lt;Text signal=</font><font color="#CC6600">"sender"</font> <font color="#A020F0">taille=</font><font color="#CC6600">"12"</font> <font color="#A020F0">label=</font><font color="#CC6600">"sender :"</font> <font color="#A020F0">editable=</font><font color="#CC6600">"true"</font><font color="#A020F0">/&gt;</font>
 		<font color="#A020F0">&lt;/page_end&gt;</font>
 	<font color="#A020F0">&lt;/awt&gt;</font>		
 	<font color="#A020F0">&lt;/module&gt;</font>
</div></div></p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">Here we define a first graphic interface with the name <span style="font-family:monospace;">draw</span> with a single svg image 
(file <span style="font-family:monospace;"><a href="index_225.svg">/demo/hello/HellowDraw.svg</a>)</span>. The
svg element with id <span style="font-family:monospace;">msgHello</span> of this drawing is associated to the signal<span style="font-family:monospace;">msg</span> and
will display the value which appears on it.</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">
A second graphic interface with the name <span style="font-family:monospace;">drawInput</span> use the first one and a <span style="font-family:monospace;">java.swing.JTextField</span> component
use to modify the value on <span style="font-family:monospace;">sender</span> signal.
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">
	As we did for module <span style="font-family:monospace;">Hello</span>, whe modify the <span style="font-family:monospace;">activation</span> method of the generated java file
<span style="font-family:monospace;">demo/hello/Hello2.java</span>&nbsp;:
<div class="" style="white-space:pre;background-color:#e7e3e7;margin:1cm"> <span style="background:#99FF66"><a href="index_226.java">Hello2.java</a> : </span><div class="" style="white-space:pre;font-family:monospace;background-color:#e7e3e7;margin-top:0.2cm;margin-left:1cm"><font color="#009900">package</font><font color="#0000FF"> demo.hello</font>;
<font color="#009900">public</font> <font color="#009900">class</font> <font color="#0000FF">Hello2</font> <font color="#009900">extends</font> <font color="#0000FF">Hello2_LILAS</font>
{
	<font color="#009900">public</font> <font color="#0000FF">Hello2</font>(<font color="#0000FF">String</font> <font color="#FF00FF">nomDansModuleParent</font>, <font color="#0000FF">lilas.base.Module</font> <font color="#FF00FF">parent</font>,
			<font color="#0000FF">lilas.base.Signal</font><font color="#FF00FF">&lt;</font><font color="#0000FF">java.lang.String</font><font color="#FF00FF">&gt;</font> <font color="#0000FF">sender_signal</font><font color="#FF00FF">)</font> <font color="#0000FF">throws</font> <font color="#FF00FF">lilas.base.ExceptionLilas</font> <font color="#0000FF">{</font>
		<font color="#FF00FF">super</font><font color="#0000FF">(</font><font color="#FF00FF">nomDansModuleParent</font>, <font color="#0000FF">parent</font><font color="#FF00FF">,</font>
			<font color="#0000FF">sender_signal</font><font color="#FF00FF">)</font><font color="#0000FF">;</font>
		<font color="#FF00FF">msg_port.propagate</font><font color="#0000FF">=</font><font color="#FF00FF">lilas.base.Port.Propagate.PERMANENT</font><font color="#0000FF">;</font>
	<font color="#FF00FF">}</font>

	<font color="#0000FF">@Override</font>
	<font color="#FF00FF">final</font> <font color="#0000FF">protected</font> <font color="#FF00FF">void</font> <font color="#0000FF">activation</font><font color="#FF00FF">(</font>) <font color="#009900">throws</font> <font color="#0000FF">lilas.base.ExceptionLilas</font> {
		msg = <font color="#CC6600">"Hello"</font>+((sender==null)?<font color="#CC6600">""</font>:<font color="#CC6600">" from "</font>+sender);
	}
}

</div></div>
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">Here, <span style="font-family:monospace;">msg_port.propagate=lilas.base.Port.Propagate.PERMANENT;</span> means that the signal <span style="font-family:monospace;">msg</span> will be initialise
after each activation during the postactivation phase of the module.</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">Now, launching this module with a value of input signal give&nbsp;:
<div style="white-space:pre;font-family:monospace;">$ <font color="#0x000086">lilas /demo/hello/Hello2.lilas -awt=draw sender=myself</font>
Lilas ready&nbsp;!

</div>
with the window&nbsp;:
<div class="centr&eacute;e"><img src="index_227.png"></div>
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">If we choose the second graphic definition on the command line, we obtain&nbsp;:
<div style="white-space:pre;font-family:monospace;">$ <font color="#0x000086">lilas /demo/hello/Hello2.lilas -awt=drawInput sender=myself</font>
Lilas ready&nbsp;!

</div>
with the window&nbsp;:
<div class="centr&eacute;e"><img src="index_228.png"></div>
but now, we can change the value of the sender anytime, the drawed text follow automatically the input.
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">The module can also be run via <i>LILAS</i> Main java.awt.Frame (in that case, all the defined awt appears in a swing JComboBox).</p></div></body></html>